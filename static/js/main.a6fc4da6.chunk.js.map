{"version":3,"sources":["components/NoWalletDetected.jsx","components/NetworkErrorMessage.jsx","components/ConnectWallet.jsx","components/GenericButton.jsx","Utils.js","components/DepositsGrid.jsx","components/BlockchainMessagesTable.jsx","components/App.jsx","index.js"],"names":["NoWalletDetected","className","href","target","rel","NetworkErrorMessage","message","dismiss","role","type","data-dismiss","aria-label","onClick","aria-hidden","ConnectWallet","connectWallet","networkError","GenericButton","props","Box","display","justifyContent","m","Button","variant","color","size","label","DEPOSIT_AMOUNT","ethers","utils","parseEther","Utils","stableRatioSwap","provider","address","this","rawData","gridData","Object","keys","map","key","i","push","id","coin","depositAmount","console","log","a","createUser","wait","then","response","getLogs","fromBlock","from","topic","interface","events","CreateUser","logs","undefined","length","data","createUserStatus","defaultAbiCoder","decode","hexDataSlice","deposit","Deposit","depositStatus","getAllStablecoinDeposits","queryFilter","filters","AllDeposits","depositValues","depositMap","shouldForce","swapStablecoinDeposit","SwapStablecoinDeposit","swapStablecoinDepositStatusAndRatio","optInToggle","OptInStatus","toggleValue","columns","field","headerName","width","ERR_MSG","DepositsGrid","deposits","transformedData","convertRawToGridData","style","autoHeight","rows","autoPageSize","useStyles","makeStyles","table","minWidth","BlockchainMessagesTable","classes","blockchainMessages","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","TableBody","scope","Math","random","HARDHAT_NETWORK_ID","App","initialState","selectedAddress","transactionError","optInStatus","state","updateDepositState","bind","providers","Web3Provider","window","ethereum","networkVersion","Contract","mockContractAddress","MockStableRatioSwap","MockStableRatioSwapArtifact","abi","getSigner","contractAddress","StableRatioSwap","StableRatioSwapArtifact","setState","userAddress","intializeEthers","enable","checkNetwork","initialize","on","newAddress","resetState","newDeposits","prevState","newOptInStatus","swapStatus","swapName","dismissNetworkError","optInStatusLabel","position","left","top","transform","Grid","container","direction","justify","alignItems","updateCreateUser","updateDeposit","updateSwapStablecoinDeposit","updateOptInToggle","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6fc4da6.chunk.js","sourcesContent":["import React from \"react\";\n\nexport function NoWalletDetected() {\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-md-center\">\n        <div className=\"col-6 p-4 text-center\">\n          <p>\n            No Ethereum wallet was detected. <br />\n            Please install{\" \"}\n            <a\n              href=\"http://metamask.io\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              MetaMask\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react/prop-types */\nimport React from \"react\";\n\nexport function NetworkErrorMessage({ message, dismiss }) {\n  return (\n    <div className=\"alert alert-danger\" role=\"alert\">\n      {message}\n      <button\n        type=\"button\"\n        className=\"close\"\n        data-dismiss=\"alert\"\n        aria-label=\"Close\"\n        onClick={dismiss}\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n  );\n}\n","/* eslint-disable react/prop-types */\nimport React from \"react\";\n\nimport { NetworkErrorMessage } from \"./NetworkErrorMessage\";\n\nexport function ConnectWallet({ connectWallet, networkError, dismiss }) {\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-md-center\">\n        <div className=\"col-12 text-center\">\n          {networkError && (\n            <NetworkErrorMessage \n              message={networkError} \n              dismiss={dismiss} \n            />\n          )}\n        </div>\n        <div className=\"col-6 p-4 text-center\">\n          <p>Please connect to your wallet.</p>\n          <button\n            className=\"btn btn-warning\"\n            type=\"button\"\n            onClick={connectWallet}\n          >\n            Connect Wallet\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport Box from '@material-ui/core/Box';\n\nconst GenericButton = (props) => {\n  return (\n    <Box display=\"flex\" justifyContent=\"space-between\" m={1}>\n      <Button variant=\"contained\" color=\"primary\" size=\"medium\" onClick={props.onClick}>\n        {props.label}\n      </Button>\n    </Box>\n  );\n}\n\nGenericButton.propTypes = {\n  onClick: PropTypes.func,\n  label: PropTypes.string\n}\n\nexport default GenericButton;\n","import { ethers } from 'ethers';\n\nconst DEPOSIT_AMOUNT = ethers.utils.parseEther('0.1');\n\nclass Utils {\n\n  constructor(stableRatioSwap, provider, address) {\n    this.stableRatioSwap = stableRatioSwap;\n    this.provider = provider;\n    this.address = address;\n  }\n\n  convertRawToGridData(rawData) {\n    let gridData = []\n    Object.keys(rawData).map((key, i) => {\n      gridData.push({id: i, coin: key, depositAmount: rawData[key]['value']/(10**rawData[key]['decimals'])})\n    })\n    console.log(\"gridData\",gridData);\n    return gridData;\n  }\n\n  async createUser() {\n    try {\n      let waiting = await this.stableRatioSwap.createUser();\n      waiting.wait().then(async (response) => {\n        console.log(\"createUser response!\",response);   \n        let logs = await this.provider.getLogs({\n          fromBlock: 'latest',\n          from: this.address,\n          topic: this.stableRatioSwap.interface.events.CreateUser  \n        });\n        console.log('optInToggle logs',logs);\n        //TODO: check if 0 or depositValues.length is latest log\n        if(!((logs === undefined || logs.length == 0))) {\n          console.log(\"logs[0].data\",logs[0].data)\n        }\n        let createUserStatus = (logs === undefined || logs.length == 0) ? false : \n        ethers.utils.defaultAbiCoder.decode(\n            ['bool'],\n            ethers.utils.hexDataSlice(logs[0].data, 4)\n        );\n        return createUserStatus;   \n      });\n    } catch(e) {\n        console.log(\"createUser exception\", e);\n    }\n  }\n\n  async deposit() {\n    try {\n      let waiting = await this.stableRatioSwap.deposit(DEPOSIT_AMOUNT,\"TUSD\",this.address);\n      waiting.wait().then(async (response) => {\n        console.log(\"deposit response!\",response);\n        let logs = await this.provider.getLogs({\n          fromBlock: 'latest',\n          from: this.address,\n          topic: this.stableRatioSwap.interface.events.Deposit  \n        });\n        console.log('deposit logs',logs);\n        //TODO: check if 0 or depositValues.length is latest log\n        if(!((logs === undefined || logs.length == 0))) {\n          console.log(\"logs[0].data\",logs[0].data)\n        }\n        let depositStatus = (logs === undefined || logs.length == 0) ? false : \n        ethers.utils.defaultAbiCoder.decode(\n            ['bool'],\n            logs[0].data\n        );\n        return depositStatus;      \n      });\n    } catch(e) {\n        console.log(\"deposit exception\", e);\n    }\n  }\n\n  async getAllStablecoinDeposits() {\n    let response = (await this.stableRatioSwap.getAllStablecoinDeposits()).wait();\n    // waiting.wait().then(async (response) => {\n      console.log(\"getAllStablecoinDeposits response!\",response); \n      console.log(\"getAllStablecoinDeposits events\",response.events);  \n      let depositValues = await this.stableRatioSwap.queryFilter(this.stableRatioSwap.filters.AllDeposits());\n      //  await this.stableRatioSwap.queryFilter({\n      //   address: this.address,\n      //   topics: [this.stableRatioSwap.interface.events.AllDeposits.topic]\n      // })[depositValues.length - 1];\n        //this.address,this.stableRatioSwap.filters.AllDeposits(null),'latest');\n      console.log(\"depositValues\",depositValues);\n      depositValues = depositValues[depositValues.length - 1];\n      console.log(\"depositValue!!\",depositValues);\n      // let logs = await this.provider.getLogs({\n      //   fromBlock: 'latest',\n      //   from: this.address,\n      //   topic: this.stableRatioSwap.interface.events.AllDeposits  \n      // });\n      // console.log('getAllStablecoinDeposits logs',logs);\n      //TODO: check if 0 or depositValues.length is latest log\n      // if(!((logs === undefined || logs.length == 0))) {\n      //   console.log(\"logs[0].data\",logs[0].data)\n      // }\n\n      // let events = logs.map((log) => this.stableRatioSwap.parseLog(log));\n      // events.forEach((e) => console.log(e));\n      \n      // let depositValues = (logs === undefined || logs.length == 0) ? [0,0,0,0,0,0,0,0,0,0] : \n      // new ethers.utils.Interface([\"sendMessage(bytes32, string)\"]).parseTransaction(\n      //     ['uint', 'uint', 'uint', 'uint','uint','uint', 'uint', 'uint', 'uint','uint'],\n      //     logs[0].data\n      // );\n      // console.log(\"depositValues!\",depositValues);\n      // depositValues = depositValues.map(bigNum => bigNum.toNumber());\n      // console.log(\"depositValues!!\",depositValues);\n      let depositMap = {};\n  \n      depositMap['TUSD'] = {'value':depositValues[0],'decimals':depositValues[1]};\n      depositMap['USDC'] = {'value':depositValues[2],'decimals':depositValues[3]};\n      depositMap['USDT'] = {'value':depositValues[4],'decimals':depositValues[5]};\n      depositMap['DAI'] = {'value':depositValues[6],'decimals':depositValues[7]};\n      depositMap['BUSD'] = {'value':depositValues[8],'decimals':depositValues[9]};\n  \n      console.log('depositMap',depositMap);\n      return depositMap;   \n    // });\n  }\n\n  async swapStablecoinDeposit(shouldForce) {\n    try {\n      console.log(\"swapStablecoinDeposit shouldForce:\",shouldForce);\n      let waiting = await this.stableRatioSwap.swapStablecoinDeposit(shouldForce);\n      waiting.wait().then(async (response) => {\n        console.log(\"swapStablecoinDeposit response!\",response); \n        let logs = await this.provider.getLogs({\n          fromBlock: 'latest',\n          from: this.address,\n          topic: this.stableRatioSwap.interface.events.SwapStablecoinDeposit  \n        });\n        console.log('swapStablecoinDeposit logs',logs);\n        //TODO: check if 0 or depositValues.length is latest log\n        if(!((logs === undefined || logs.length == 0))) {\n          console.log(\"logs[0].data\",logs[0].data)\n        }\n        let swapStablecoinDepositStatusAndRatio = (logs === undefined || logs.length == 0) ? false : \n        ethers.utils.defaultAbiCoder.decode(\n            ['bool, uint'],\n            logs[0].data\n        );\n        console.log('swapStablecoinDeposit swapStablecoinDepositStatusAndRatio', swapStablecoinDepositStatusAndRatio);\n        return swapStablecoinDepositStatusAndRatio;     \n      });\n    } catch(e) {\n        console.log(\"swapStablecoinDeposit exception\", e);\n    }\n  }\n\n  async optInToggle() {\n    try {\n      let waiting = await this.stableRatioSwap.optInToggle();\n      waiting.wait().then(async (response) => {\n        console.log(\"optInToggle response!\",response);      \n        let logs = await this.provider.getLogs({\n          fromBlock: 'latest',\n          from: this.address,\n          topic: this.stableRatioSwap.interface.events.OptInStatus  \n        });\n        console.log('optInToggle logs',logs);\n        //TODO: check if 0 or depositValues.length is latest log\n        if(!((logs === undefined || logs.length == 0))) {\n          console.log(\"logs[0].data\",logs[0].data)\n        }\n        let toggleValue = (logs === undefined || logs.length == 0) ? false : \n        ethers.utils.defaultAbiCoder.decode(\n            ['bool'],\n            logs[0].data\n        );\n        return toggleValue;\n      });\n    } catch(e) {\n        console.log(\"optInToggle exception\", e);\n    }\n  }\n}\n\nexport default Utils;","import * as React from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport PropTypes from 'prop-types';\nimport Utils from '../Utils';\n\nconst columns = [\n  { field: 'coin', headerName: 'Coin', width: 100 },\n  { field: 'depositAmount', headerName: 'Deposit Amount ($)', width: 250 },\n];\n\nconst ERR_MSG = \"No stablecoin deposits on Aave yet!\";\n\nexport default function DepositsGrid(props) {\n  if (props.deposits !== undefined) {\n    let transformedData = new Utils(undefined,undefined).convertRawToGridData(props.deposits);\n    console.log(\"props.deposits transformedData\",transformedData);\n    return (\n      transformedData.length > 0 ?\n        (\n          <div style={{ autoHeight: true, width: '40%' }}>\n            <DataGrid rows={transformedData} columns={columns} autoHeight={true} autoPageSize={true} />\n          </div>\n        )\n      : <div>{ERR_MSG}</div>\n    );\n  }\n  return <div>{ERR_MSG}</div>;\n}\n\nDepositsGrid.propTypes = {\n  deposits: PropTypes.any\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 200,\n  },\n});\n\nexport default function BlockchainMessagesTable(props) {\n  const classes = useStyles();\n\n  if (props.blockchainMessages !== undefined && props.blockchainMessages.length > 0){\n    return (\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Blockchain Logs</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {props.blockchainMessages.map((message) => (\n              <TableRow key={message+Math.random()}>\n                <TableCell component=\"th\" scope=\"row\">{message}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  }\n  return (<div></div>);\n}\n\nBlockchainMessagesTable.propTypes = {\n  blockchainMessages: PropTypes.array\n}\n","import React from 'react';\n\n// We'll use ethers to interact with the Ethereum network and our contract\nimport { ethers } from 'ethers';\n\n// We import the contract's artifacts and address here, as we are going to be\n// using them with ethers\nimport StableRatioSwapArtifact from \"../contracts/StableRatioSwap.json\";\nimport contractAddress from \"../contracts/contract-address.json\";\n\nimport MockStableRatioSwapArtifact from \"../contracts/MockStableRatioSwap.json\";\nimport mockContractAddress from \"../contracts/mock-contract-address.json\";\n\n// All the logic of this dapp is contained in the Dapp component.\n// These other components are just presentational ones: they don't have any\n// logic. They just render HTML.\nimport { NoWalletDetected } from './NoWalletDetected';\nimport { ConnectWallet } from './ConnectWallet';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport GenericButton from './GenericButton';\nimport DepositsGrid from './DepositsGrid';\nimport Utils from '../Utils';\nimport BlockchainMessagesTable from './BlockchainMessagesTable';\n\n// This is the Hardhat Network id, you might change it in the hardhat.config.js\n// Here's a list of network ids https://docs.metamask.io/guide/ethereum-provider.html#properties\n// to use when deploying to other networks.\nconst HARDHAT_NETWORK_ID = '31337';\nconst MAINNET_ID = '1';\nconst KOVAN_ID = '42';\nconst NETWORK_ERR_MSG = 'Please connect Metamask to Localhost:8545, mainnet, or Kovan';\nconst DEPOSIT_AMOUNT = 100;//ethers.utils.parseEther('0.1');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.initialState = {\n      selectedAddress: undefined,\n      transactionError: undefined,\n      networkError: undefined,\n      utils: undefined,\n      deposits: {\n        'TUSD': {'value':0,'decimals':2},\n        'USDC': {'value':0,'decimals':2},\n        'USDT': {'value':0,'decimals':2},\n        'DAI': {'value':0,'decimals':2},\n        'BUSD': {'value':0,'decimals':2}\n      },\n      optInStatus: false,\n      blockchainMessages: []\n    };\n\n    this.state = this.initialState;\n    this.updateDepositState = this.updateDepositState.bind(this);\n  }\n\n  async intializeEthers() {\n    // We first initialize ethers by creating a provider using window.ethereum\n    this.provider = new ethers.providers.Web3Provider(window.ethereum);\n\n    if (window.ethereum.networkVersion === HARDHAT_NETWORK_ID) {\n      this.stableRatioSwap = new ethers.Contract(\n        mockContractAddress.MockStableRatioSwap,\n        MockStableRatioSwapArtifact.abi,\n        this.provider.getSigner(0)\n      );\n    }\n    else if (window.ethereum.networkVersion === MAINNET_ID || window.ethereum.networkVersion === KOVAN_ID) {\n      this.stableRatioSwap = new ethers.Contract(\n        contractAddress.StableRatioSwap,\n        StableRatioSwapArtifact.abi,\n        this.provider.getSigner(0)\n      );\n    }\n    console.log(\"networkVersion\",window.ethereum.networkVersion);\n    this.setState({utils: new Utils(this.stableRatioSwap, this.provider, this.state.selectedAddress)});\n  }\n\n  dismissNetworkError() {\n    this.setState({ networkError: undefined });\n  }\n\n  async initialize(userAddress) {\n    // This method initializes the dapp\n\n    // We first store the user's address in the component's state\n    this.setState({\n      selectedAddress: userAddress\n    });\n\n    // Then, we initialize ethers\n    await this.intializeEthers();\n  }\n\n  async connectWallet() {\n    //connects dapp to wallet when user clicks on connect wallet button\n\n    const [selectedAddress] = await window.ethereum.enable();\n    console.log('selectedAddress',selectedAddress);\n    // Once we have the address, we can initialize the application.\n\n    if (!this.checkNetwork()) {\n      return;\n    }\n\n    this.initialize(selectedAddress);\n\n    // We reinitialize it whenever the user changes their account.\n    window.ethereum.on('accountsChanged', ([newAddress]) => {\n      // `accountsChanged` event can be triggered with an undefined newAddress.\n      // This happens when the user removes the Dapp from the \"Connected\n      // list of sites allowed access to your addresses\" (Metamask > Settings > Connections)\n      // To avoid errors, we reset the dapp state\n      if (newAddress === undefined) {\n        return this.resetState();\n      }\n\n      this.initialize(newAddress);\n    });\n\n    // We reset the dapp state if the network is changed\n    window.ethereum.on('networkChanged', () => {\n      this.resetState();\n    });\n  }\n\n  // This method resets the state\n  resetState() {\n    this.setState(this.initialState);\n  }\n\n  // This method checks if Metamask selected network is Localhost:8545, mainnet, or Kovan\n  checkNetwork() {\n    if (window.ethereum.networkVersion === HARDHAT_NETWORK_ID || window.ethereum.networkVersion === MAINNET_ID || window.ethereum.networkVersion === KOVAN_ID) {\n      return true;\n    }\n\n    this.setState({\n      networkError: NETWORK_ERR_MSG,\n    });\n\n    return false;\n  }\n\n  async updateDepositState() {\n    console.log(\"this.state.utils\",this.state.utils);\n    let newDeposits = await this.state.utils.getAllStablecoinDeposits();\n    // waiting.then(newDeposits =>\n      this.setState({deposits: newDeposits}, () => {\n        console.log(\"deposits updateDepositState\",this.state.deposits)\n        this.setState(prevState => ({\n          blockchainMessages: [...prevState.blockchainMessages, `Successfully fetched new deposit data`]\n        }))\n    });\n    // );\n  }\n\n  async updateOptInToggle() {\n    (await this.state.utils.optInToggle()).then(newOptInStatus =>\n      this.setState({optInStatus: newOptInStatus}, () => {\n      console.log(\"optInToggle updateOptInToggle\",this.state.optInStatus);\n      this.setState(prevState => ({\n        blockchainMessages: [...prevState.blockchainMessages, `User opt-in status for auto-swapping assets: ${this.state.optInStatus}`]\n      }))\n    }));\n  }\n\n  async updateCreateUser() {\n    (await this.state.utils.createUser()).then(createUserStatus => {\n      createUserStatus = createUserStatus === undefined ? \"Error\" : createUserStatus;\n      console.log(\"optInToggle updateOptInToggle\",this.state.optInStatus)\n      this.setState(prevState => ({\n        blockchainMessages: [...prevState.blockchainMessages, `User added to app status: ${createUserStatus}`]\n      }))\n    });\n  }\n\n  async updateSwapStablecoinDeposit(shouldForce) {\n    (await this.state.utils.swapStablecoinDeposit(shouldForce)).then(swapStatus => {\n      swapStatus = swapStatus === undefined ? \"Error\" : swapStatus;\n      let swapName =  shouldForce ? \"Force Swap\" : \"Swap\";\n      this.setState(prevState => ({\n        blockchainMessages: [...prevState.blockchainMessages, `${swapName} TUSD deposit status: ${swapStatus}`]\n      }))\n    });\n  }\n\n  async updateDeposit() {\n    (await this.state.utils.deposit()).then(depositStatus => {\n      depositStatus = depositStatus === undefined ? \"Error\" : depositStatus;\n      this.setState(prevState => ({\n        blockchainMessages: [...prevState.blockchainMessages, `Send TUSD deposit status: ${depositStatus}`]\n      }))\n    });\n  }\n\n  render() {\n    // Ethereum wallets inject the window.ethereum object. If it hasn't been\n    // injected, we instruct the user to install MetaMask.\n    if (window.ethereum === undefined) {\n      return <NoWalletDetected />;\n    }\n\n    if (!this.state.selectedAddress) {\n      return (\n        <ConnectWallet\n          connectWallet={() => this.connectWallet()}\n          networkError={this.state.networkError}\n          dismiss={() => this.dismissNetworkError()}\n        />\n      );\n    }\n\n    let optInStatusLabel = this.state.optInStatus ? 'Out of' : 'In to';\n\n    return (\n      <div\n        style={{\n            position: 'absolute', left: '50%', top: '50%',\n            transform: 'translate(-50%, -50%)',\n            display: 'inline-block'\n        }}\n      >\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n      >\n        <GenericButton onClick={() => this.updateCreateUser()} label=\"Register Account\" />\n        <GenericButton onClick={() => this.updateDeposit()} label={`Deposit ${DEPOSIT_AMOUNT} TUSD`} />\n        <GenericButton onClick={() => this.updateDepositState()} label=\"Refresh Deposits\" />\n        <GenericButton onClick={() => this.updateSwapStablecoinDeposit(false)} label=\"Swap TUSD\" />\n        <GenericButton onClick={() => this.updateSwapStablecoinDeposit(true)} label=\"Force Swap TUSD\" />\n        <GenericButton onClick={() => this.updateOptInToggle()} label={`Opt ${optInStatusLabel} automatic swapping`} />\n      </Grid>\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n      >\n        <DepositsGrid deposits={this.state.deposits} /> \n      </Grid>\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n      >\n        <BlockchainMessagesTable blockchainMessages={this.state.blockchainMessages} /> \n      </Grid>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}